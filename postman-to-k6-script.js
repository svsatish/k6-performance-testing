// Auto-generated by the postman-to-k6 converter

import "./libs/shim/core.js";
import "./libs/shim/expect.js";

export let options = { 
  stages: [
    { duration: '30s', target: 30 },
    { duration: '1m30s', target: 20 },
    { duration: '20s', target: 0 },
  ],
  maxRedirects: 4 };

const Request = Symbol.for("request");
postman[Symbol.for("initial")]({
  options
});

export default function() {
  postman[Request]({
    name: "GetContacts",
    id: "6ada892b-0bbb-4edc-978d-58beaa0dc0e9",
    method: "GET",
    address: "https://test.k6.io/contacts.php",
    post(response) {
      pm.test("Status code is 200", function() {
        pm.response.to.have.status(200);
      });
    }
  });

  postman[Request]({
    name: "PostFlipCoin",
    id: "b4a9d4af-ef20-4436-9110-f3524d250422",
    method: "POST",
    address: "https://test.k6.io/flip_coin.php?bet=heads",
    post(response) {
      pm.test("Status code is 200", function() {
        pm.response.to.have.status(200);
      });
      pm.test("Body matches string", function() {
        pm.expect(pm.response.text()).to.include("Your bet: heads.");
      });
    }
  });
}
